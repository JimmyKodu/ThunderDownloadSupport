<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ä¸‹è½½æµ‹è¯•é¡µé¢ - Download Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #FF0000;
            padding-bottom: 10px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 5px;
        }
        .download-link {
            display: inline-block;
            margin: 10px 0;
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        .download-link:hover {
            background: #0056b3;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <h1>ğŸš« ä¸‹è½½æ‹¦æˆªæ¼”ç¤ºæµ‹è¯•é¡µé¢</h1>
    <h2>Download Interception Demo Test Page</h2>

    <div class="info">
        <strong>ğŸ“‹ ä½¿ç”¨è¯´æ˜ (Instructions):</strong>
        <ol>
            <li>ç¡®ä¿å·²å®‰è£… demo-extension æ‰©å±• (Make sure demo-extension is installed)</li>
            <li>ç‚¹å‡»ä¸‹æ–¹çš„ä¸‹è½½é“¾æ¥ (Click the download links below)</li>
            <li>è§‚å¯Ÿæ‰©å±•æ˜¯å¦æ‹¦æˆªä¸‹è½½ (Observe if extension intercepts downloads)</li>
            <li>ç‚¹å‡»æ‰©å±•å›¾æ ‡æŸ¥çœ‹æ‹¦æˆªå†å² (Click extension icon to view history)</li>
        </ol>
    </div>

    <div class="warning">
        <strong>âš ï¸ æ³¨æ„ (Note):</strong><br>
        è¿™äº›æ˜¯ç¤ºä¾‹é“¾æ¥ã€‚åœ¨çœŸå®æµ‹è¯•ä¸­ï¼Œè¯·ä½¿ç”¨å®é™…çš„å¤§æ–‡ä»¶ä¸‹è½½é“¾æ¥ã€‚<br>
        These are example links. For real testing, use actual large file download links.
    </div>

    <div class="section">
        <h3>æµ‹è¯•åœºæ™¯ 1: å¤§æ–‡ä»¶ä¸‹è½½ (Large File Downloads)</h3>
        <p>è¿™äº›ä¸‹è½½åº”è¯¥è¢«æ‹¦æˆªï¼ˆæ–‡ä»¶ç±»å‹å’Œå¤§å°ç¬¦åˆæ¡ä»¶ï¼‰ï¼š</p>
        
        <!-- è¿™äº›æ˜¯ç¤ºä¾‹é“¾æ¥ï¼Œå®é™…æµ‹è¯•æ—¶éœ€è¦æ›¿æ¢ä¸ºçœŸå®çš„ä¸‹è½½é“¾æ¥ -->
        <a href="https://example.com/file.zip" class="download-link" download="test.zip">
            ğŸ“¦ ä¸‹è½½ ZIP æ–‡ä»¶ (å‡è®¾ > 2MB)
        </a><br>
        
        <a href="https://example.com/software.exe" class="download-link" download="software.exe">
            ğŸ’¾ ä¸‹è½½ EXE æ–‡ä»¶ (å‡è®¾ > 2MB)
        </a><br>
        
        <a href="https://example.com/archive.rar" class="download-link" download="archive.rar">
            ğŸ“ ä¸‹è½½ RAR æ–‡ä»¶ (å‡è®¾ > 2MB)
        </a>
    </div>

    <div class="section">
        <h3>æµ‹è¯•åœºæ™¯ 2: å°æ–‡ä»¶ï¼ˆåº”è¯¥ä¸è¢«æ‹¦æˆªï¼‰</h3>
        <p>è¿™äº›ä¸‹è½½ä¸ä¼šè¢«æ‹¦æˆªï¼ˆæ–‡ä»¶å°äº 2MBï¼‰ï¼š</p>
        
        <a href="data:text/plain;charset=utf-8,Hello%20World" class="download-link" download="small.txt">
            ğŸ“„ ä¸‹è½½å°æ–‡æœ¬æ–‡ä»¶ (< 2MB)
        </a>
    </div>

    <div class="section">
        <h3>æµ‹è¯•åœºæ™¯ 3: é»‘åå•åŸŸåï¼ˆåº”è¯¥ä¸è¢«æ‹¦æˆªï¼‰</h3>
        <p>æ¥è‡ªé»‘åå•åŸŸåçš„ä¸‹è½½ä¸ä¼šè¢«æ‹¦æˆªï¼š</p>
        
        <p style="color: #666;">
            ç¤ºä¾‹: youtube.com, bilibili.com ç­‰<br>
            Example: youtube.com, bilibili.com, etc.
        </p>
    </div>

    <div class="section">
        <h3>çœŸå®æµ‹è¯•å»ºè®® (Real Test Suggestions)</h3>
        <p>è¦çœŸæ­£æµ‹è¯•æ‹¦æˆªåŠŸèƒ½ï¼Œå¯ä»¥å°è¯•ï¼š</p>
        <ul>
            <li>è®¿é—®å¼€æºè½¯ä»¶ä¸‹è½½ç«™ç‚¹ï¼ˆå¦‚ SourceForge, GitHub Releasesï¼‰</li>
            <li>ä¸‹è½½ Linux å‘è¡Œç‰ˆ ISO æ–‡ä»¶</li>
            <li>ä¸‹è½½å¤§å‹å‹ç¼©åŒ…æ–‡ä»¶</li>
            <li>ä½¿ç”¨ Chrome å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ‹¦æˆªè¿‡ç¨‹</li>
        </ul>
    </div>

    <div class="section">
        <h3>éªŒè¯æ­¥éª¤ (Verification Steps)</h3>
        <ol>
            <li><strong>æ£€æŸ¥æ§åˆ¶å°</strong>: æ‰“å¼€æ‰©å±•çš„ Service Worker æ§åˆ¶å°
                <ul>
                    <li>è®¿é—® <code>chrome://extensions/</code></li>
                    <li>æ‰¾åˆ° "Download Interception Demo"</li>
                    <li>ç‚¹å‡» "Service Worker" æŸ¥çœ‹æ—¥å¿—</li>
                </ul>
            </li>
            <li><strong>æŸ¥çœ‹æ‹¦æˆªå†å²</strong>: ç‚¹å‡»æ‰©å±•å›¾æ ‡æ‰“å¼€å¼¹çª—
                <ul>
                    <li>æ˜¾ç¤ºæ‰€æœ‰è¢«æ‹¦æˆªçš„ä¸‹è½½</li>
                    <li>åŒ…å«æ–‡ä»¶åã€å¤§å°ã€æ¥æºç­‰ä¿¡æ¯</li>
                </ul>
            </li>
            <li><strong>æµ‹è¯•å¯ç”¨/ç¦ç”¨</strong>: åœ¨å¼¹çª—ä¸­åˆ‡æ¢æ‹¦æˆªçŠ¶æ€
                <ul>
                    <li>ç¦ç”¨åä¸‹è½½åº”è¯¥æ­£å¸¸è¿›è¡Œ</li>
                    <li>å¯ç”¨åç¬¦åˆæ¡ä»¶çš„ä¸‹è½½ä¼šè¢«æ‹¦æˆª</li>
                </ul>
            </li>
        </ol>
    </div>

    <div class="info">
        <strong>ğŸ’¡ æç¤º (Tips):</strong>
        <ul>
            <li>æ‰€æœ‰æ‹¦æˆªäº‹ä»¶éƒ½ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†æ—¥å¿—</li>
            <li>æ‰©å±•å›¾æ ‡ä¸Šçš„å¾½ç« ä¼šæ˜¾ç¤ºæ‹¦æˆªæ¬¡æ•°</li>
            <li>å¯ä»¥åœ¨ <code>background.js</code> ä¸­ä¿®æ”¹ CONFIG æ¥è°ƒæ•´æ‹¦æˆªæ¡ä»¶</li>
            <li>å»ºè®®å…ˆç”¨å°æ–‡ä»¶æµ‹è¯•ï¼Œç¡®ä¿æ‰©å±•æ­£å¸¸å·¥ä½œ</li>
        </ul>
    </div>

    <div class="section">
        <h3>ä»£ç ç¤ºä¾‹ (Code Examples)</h3>
        <p>å¦‚ä½•åˆ›å»ºä¸€ä¸ªä¼šè¢«æ‹¦æˆªçš„ä¸‹è½½é“¾æ¥ï¼š</p>
        <pre style="background: #f4f4f4; padding: 15px; border-radius: 5px; overflow-x: auto;">
&lt;!-- HTML æ–¹å¼ --&gt;
&lt;a href="https://example.com/large-file.zip" download&gt;
    ä¸‹è½½å¤§æ–‡ä»¶
&lt;/a&gt;

&lt;!-- JavaScript æ–¹å¼ --&gt;
&lt;script&gt;
function downloadFile() {
    const link = document.createElement('a');
    link.href = 'https://example.com/large-file.exe';
    link.download = 'software.exe';
    link.click();
}
&lt;/script&gt;
        </pre>
    </div>

    <script>
        // åœ¨æ§åˆ¶å°è¾“å‡ºæµ‹è¯•ä¿¡æ¯
        console.log('%cğŸš« Download Interception Demo Test Page', 'font-size: 20px; color: red; font-weight: bold;');
        console.log('This page is for testing the download interception extension.');
        console.log('Click any download link and check if the extension intercepts it.');
        
        // ç›‘å¬ä¸‹è½½é“¾æ¥ç‚¹å‡»
        document.querySelectorAll('.download-link').forEach(link => {
            link.addEventListener('click', function(e) {
                console.log('Download link clicked:', this.href);
                console.log('Expected to be intercepted:', this.href.match(/\.(zip|exe|rar|7z|iso)$/) ? 'YES' : 'NO');
            });
        });
    </script>
</body>
</html>
