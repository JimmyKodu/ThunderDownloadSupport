import{n as e,$ as r,K as t,l as s,X as n,Y as i,i as o}from"./util-eaf7ff2a.js";var a={exports:{}};var l={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};var c="object"==typeof process&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>{}:()=>{};!function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:n}=l,i=c,o=(r=e.exports={}).re=[],a=r.safeRe=[],h=r.src=[],p=r.safeSrc=[],E=r.t={};let u=0;const f=[["\\s",1],["\\d",n],["[a-zA-Z0-9-]",s]],m=(e,r,t)=>{const s=(e=>{for(const[r,t]of f)e=e.split(r+"*").join(`${r}{0,${t}}`).split(r+"+").join(`${r}{1,${t}}`);return e})(r),n=u++;i(e,n,r),E[e]=n,h[n]=r,p[n]=s,o[n]=new RegExp(r,t?"g":void 0),a[n]=new RegExp(s,t?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),m("MAINVERSION",`(${h[E.NUMERICIDENTIFIER]})\\.(${h[E.NUMERICIDENTIFIER]})\\.(${h[E.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${h[E.NUMERICIDENTIFIERLOOSE]})\\.(${h[E.NUMERICIDENTIFIERLOOSE]})\\.(${h[E.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${h[E.NUMERICIDENTIFIER]}|${h[E.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${h[E.NUMERICIDENTIFIERLOOSE]}|${h[E.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${h[E.PRERELEASEIDENTIFIER]}(?:\\.${h[E.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${h[E.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[E.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER","[a-zA-Z0-9-]+"),m("BUILD",`(?:\\+(${h[E.BUILDIDENTIFIER]}(?:\\.${h[E.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${h[E.MAINVERSION]}${h[E.PRERELEASE]}?${h[E.BUILD]}?`),m("FULL",`^${h[E.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${h[E.MAINVERSIONLOOSE]}${h[E.PRERELEASELOOSE]}?${h[E.BUILD]}?`),m("LOOSE",`^${h[E.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",h[E.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),m("XRANGEIDENTIFIER",h[E.NUMERICIDENTIFIER]+"|x|X|\\*"),m("XRANGEPLAIN",`[v=\\s]*(${h[E.XRANGEIDENTIFIER]})(?:\\.(${h[E.XRANGEIDENTIFIER]})(?:\\.(${h[E.XRANGEIDENTIFIER]})(?:${h[E.PRERELEASE]})?${h[E.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${h[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[E.XRANGEIDENTIFIERLOOSE]})(?:${h[E.PRERELEASELOOSE]})?${h[E.BUILD]}?)?)?`),m("XRANGE",`^${h[E.GTLT]}\\s*${h[E.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${h[E.GTLT]}\\s*${h[E.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),m("COERCE",h[E.COERCEPLAIN]+"(?:$|[^\\d])"),m("COERCEFULL",h[E.COERCEPLAIN]+`(?:${h[E.PRERELEASE]})?(?:${h[E.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",h[E.COERCE],!0),m("COERCERTLFULL",h[E.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${h[E.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",m("TILDE",`^${h[E.LONETILDE]}${h[E.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${h[E.LONETILDE]}${h[E.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${h[E.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",m("CARET",`^${h[E.LONECARET]}${h[E.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${h[E.LONECARET]}${h[E.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${h[E.GTLT]}\\s*(${h[E.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${h[E.GTLT]}\\s*(${h[E.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${h[E.GTLT]}\\s*(${h[E.LOOSEPLAIN]}|${h[E.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${h[E.XRANGEPLAIN]})\\s+-\\s+(${h[E.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${h[E.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[E.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(a,a.exports);var h=a.exports;const p=Object.freeze({loose:!0}),E=Object.freeze({});var u=e=>e?"object"!=typeof e?p:e:E;const f=/^[0-9]+$/,m=(e,r)=>{const t=f.test(e),s=f.test(r);return t&&s&&(e=+e,r=+r),e===r?0:t&&!s?-1:s&&!t?1:e<r?-1:1};var $={compareIdentifiers:m,rcompareIdentifiers:(e,r)=>m(r,e)};const R=c,{MAX_LENGTH:d,MAX_SAFE_INTEGER:v}=l,{safeRe:I,safeSrc:L,t:N}=h,O=u,{compareIdentifiers:g}=$;var A=class e{constructor(r,t){if(t=O(t),r instanceof e){if(r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease)return r;r=r.version}else if("string"!=typeof r)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>d)throw new TypeError(`version is longer than ${d} characters`);R("SemVer",r,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=r.trim().match(t.loose?I[N.LOOSE]:I[N.FULL]);if(!s)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>v||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const r=+e;if(r>=0&&r<v)return r}return e}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(r){if(R("SemVer.compare",this.version,this.options,r),!(r instanceof e)){if("string"==typeof r&&r===this.version)return 0;r=new e(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof e||(r=new e(r,this.options)),g(this.major,r.major)||g(this.minor,r.minor)||g(this.patch,r.patch)}comparePre(r){if(r instanceof e||(r=new e(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let t=0;do{const e=this.prerelease[t],s=r.prerelease[t];if(R("prerelease compare",t,e,s),void 0===e&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===e)return-1;if(e!==s)return g(e,s)}while(++t)}compareBuild(r){r instanceof e||(r=new e(r,this.options));let t=0;do{const e=this.build[t],s=r.build[t];if(R("build compare",t,e,s),void 0===e&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===e)return-1;if(e!==s)return g(e,s)}while(++t)}inc(e,r,t){if(e.startsWith("pre")){if(!r&&!1===t)throw new Error("invalid increment argument: identifier is empty");if(r){const e=new RegExp(`^${this.options.loose?L[N.PRERELEASELOOSE]:L[N.PRERELEASE]}$`),t=("-"+r).match(e);if(!t||t[1]!==r)throw new Error("invalid identifier: "+r)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,t),this.inc("pre",r,t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",r,t),this.inc("pre",r,t);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(t)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let s=this.prerelease.length;for(;--s>=0;)"number"==typeof this.prerelease[s]&&(this.prerelease[s]++,s=-2);if(-1===s){if(r===this.prerelease.join(".")&&!1===t)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(r){let s=[r,e];!1===t&&(s=[r]),0===g(this.prerelease[0],r)?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error("invalid increment argument: "+e)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}};const T=A;var w=(e,r,t=!1)=>{if(e instanceof T)return e;try{return new T(e,r)}catch(s){if(!t)return null;throw s}};const S=w;var P=(e,r)=>{const t=S(e,r);return t?t.version:null};const C=w;var b=(e,r)=>{const t=C(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null};const G=A;var D=(e,r,t,s,n)=>{"string"==typeof t&&(n=s,s=t,t=void 0);try{return new G(e instanceof G?e.version:e,t).inc(r,s,n).version}catch(i){return null}};const F=w;var y=(e,r)=>{const t=F(e,null,!0),s=F(r,null,!0),n=t.compare(s);if(0===n)return null;const i=n>0,o=i?t:s,a=i?s:t,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l){if(!a.patch&&!a.minor)return"major";if(0===a.compareMain(o))return a.minor&&!a.patch?"minor":"patch"}const c=l?"pre":"";return t.major!==s.major?c+"major":t.minor!==s.minor?c+"minor":t.patch!==s.patch?c+"patch":"prerelease"};const M=A;var U=(e,r)=>new M(e,r).major;const j=A;var X=(e,r)=>new j(e,r).minor;const x=A;var _=(e,r)=>new x(e,r).patch;const k=w;var V=(e,r)=>{const t=k(e,r);return t&&t.prerelease.length?t.prerelease:null};const B=A;var H=(e,r,t)=>new B(e,t).compare(new B(r,t));const Y=H;var W=(e,r,t)=>Y(r,e,t);const z=H;var Z=(e,r)=>z(e,r,!0);const Q=A;var q=(e,r,t)=>{const s=new Q(e,t),n=new Q(r,t);return s.compare(n)||s.compareBuild(n)};const J=q;var K=(e,r)=>e.sort((e,t)=>J(e,t,r));const ee=q;var re=(e,r)=>e.sort((e,t)=>ee(t,e,r));const te=H;var se=(e,r,t)=>te(e,r,t)>0;const ne=H;var ie=(e,r,t)=>ne(e,r,t)<0;const oe=H;var ae=(e,r,t)=>0===oe(e,r,t);const le=H;var ce=(e,r,t)=>0!==le(e,r,t);const he=H;var pe=(e,r,t)=>he(e,r,t)>=0;const Ee=H;var ue=(e,r,t)=>Ee(e,r,t)<=0;const fe=ae,me=ce,$e=se,Re=pe,de=ie,ve=ue;var Ie=(e,r,t,s)=>{switch(r){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e===t;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e!==t;case"":case"=":case"==":return fe(e,t,s);case"!=":return me(e,t,s);case">":return $e(e,t,s);case">=":return Re(e,t,s);case"<":return de(e,t,s);case"<=":return ve(e,t,s);default:throw new TypeError("Invalid operator: "+r)}};const Le=A,Ne=w,{safeRe:Oe,t:ge}=h;var Ae=(e,r)=>{if(e instanceof Le)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let t=null;if((r=r||{}).rtl){const s=r.includePrerelease?Oe[ge.COERCERTLFULL]:Oe[ge.COERCERTL];let n;for(;(n=s.exec(e))&&(!t||t.index+t[0].length!==e.length);)t&&n.index+n[0].length===t.index+t[0].length||(t=n),s.lastIndex=n.index+n[1].length+n[2].length;s.lastIndex=-1}else t=e.match(r.includePrerelease?Oe[ge.COERCEFULL]:Oe[ge.COERCE]);if(null===t)return null;const s=t[2],n=t[3]||"0",i=t[4]||"0",o=r.includePrerelease&&t[5]?"-"+t[5]:"",a=r.includePrerelease&&t[6]?"+"+t[6]:"";return Ne(`${s}.${n}.${i}${o}${a}`,r)};var Te,we,Se,Pe,Ce=class{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);return void 0===r?void 0:(this.map.delete(e),this.map.set(e,r),r)}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&void 0!==r){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,r)}return this}};function be(){if(we)return Te;we=1;const e=/\s+/g;class r{constructor(t,i){if(i=s(i),t instanceof r)return t.loose===!!i.loose&&t.includePrerelease===!!i.includePrerelease?t:new r(t.raw,i);if(t instanceof n)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=t.trim().replace(e," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!d(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const r of this.set)if(1===r.length&&v(r[0])){this.set=[r];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const r=this.set[e];for(let e=0;e<r.length;e++)e>0&&(this.formatted+=" "),this.formatted+=r[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const r=((this.options.includePrerelease&&$)|(this.options.loose&&R))+":"+e,s=t.get(r);if(s)return s;const o=this.options.loose,l=o?a[p.HYPHENRANGELOOSE]:a[p.HYPHENRANGE];e=e.replace(l,G(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(a[p.COMPARATORTRIM],E),i("comparator trim",e),e=e.replace(a[p.TILDETRIM],f),i("tilde trim",e),e=e.replace(a[p.CARETTRIM],m),i("caret trim",e);let c=e.split(" ").map(e=>L(e,this.options)).join(" ").split(/\s+/).map(e=>b(e,this.options));o&&(c=c.filter(e=>(i("loose invalid filter",e,this.options),!!e.match(a[p.COMPARATORLOOSE])))),i("range list",c);const h=new Map,u=c.map(e=>new n(e,this.options));for(const t of u){if(d(t))return[t];h.set(t.value,t)}h.size>1&&h.has("")&&h.delete("");const v=[...h.values()];return t.set(r,v),v}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(r=>I(r,t)&&e.set.some(e=>I(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(r){return!1}for(let t=0;t<this.set.length;t++)if(D(this.set[t],e,this.options))return!0;return!1}}Te=r;const t=new Ce,s=u,n=Ge(),i=c,o=A,{safeRe:a,t:p,comparatorTrimReplace:E,tildeTrimReplace:f,caretTrimReplace:m}=h,{FLAG_INCLUDE_PRERELEASE:$,FLAG_LOOSE:R}=l,d=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,I=(e,r)=>{let t=!0;const s=e.slice();let n=s.pop();for(;t&&s.length;)t=s.every(e=>n.intersects(e,r)),n=s.pop();return t},L=(e,r)=>(i("comp",e,r),e=T(e,r),i("caret",e),e=O(e,r),i("tildes",e),e=S(e,r),i("xrange",e),e=C(e,r),i("stars",e),e),N=e=>!e||"x"===e.toLowerCase()||"*"===e,O=(e,r)=>e.trim().split(/\s+/).map(e=>g(e,r)).join(" "),g=(e,r)=>{const t=r.loose?a[p.TILDELOOSE]:a[p.TILDE];return e.replace(t,(r,t,s,n,o)=>{let a;return i("tilde",e,r,t,s,n,o),N(t)?a="":N(s)?a=`>=${t}.0.0 <${+t+1}.0.0-0`:N(n)?a=`>=${t}.${s}.0 <${t}.${+s+1}.0-0`:o?(i("replaceTilde pr",o),a=`>=${t}.${s}.${n}-${o} <${t}.${+s+1}.0-0`):a=`>=${t}.${s}.${n} <${t}.${+s+1}.0-0`,i("tilde return",a),a})},T=(e,r)=>e.trim().split(/\s+/).map(e=>w(e,r)).join(" "),w=(e,r)=>{i("caret",e,r);const t=r.loose?a[p.CARETLOOSE]:a[p.CARET],s=r.includePrerelease?"-0":"";return e.replace(t,(r,t,n,o,a)=>{let l;return i("caret",e,r,t,n,o,a),N(t)?l="":N(n)?l=`>=${t}.0.0${s} <${+t+1}.0.0-0`:N(o)?l="0"===t?`>=${t}.${n}.0${s} <${t}.${+n+1}.0-0`:`>=${t}.${n}.0${s} <${+t+1}.0.0-0`:a?(i("replaceCaret pr",a),l="0"===t?"0"===n?`>=${t}.${n}.${o}-${a} <${t}.${n}.${+o+1}-0`:`>=${t}.${n}.${o}-${a} <${t}.${+n+1}.0-0`:`>=${t}.${n}.${o}-${a} <${+t+1}.0.0-0`):(i("no pr"),l="0"===t?"0"===n?`>=${t}.${n}.${o}${s} <${t}.${n}.${+o+1}-0`:`>=${t}.${n}.${o}${s} <${t}.${+n+1}.0-0`:`>=${t}.${n}.${o} <${+t+1}.0.0-0`),i("caret return",l),l})},S=(e,r)=>(i("replaceXRanges",e,r),e.split(/\s+/).map(e=>P(e,r)).join(" ")),P=(e,r)=>{e=e.trim();const t=r.loose?a[p.XRANGELOOSE]:a[p.XRANGE];return e.replace(t,(t,s,n,o,a,l)=>{i("xRange",e,t,s,n,o,a,l);const c=N(n),h=c||N(o),p=h||N(a),E=p;return"="===s&&E&&(s=""),l=r.includePrerelease?"-0":"",c?t=">"===s||"<"===s?"<0.0.0-0":"*":s&&E?(h&&(o=0),a=0,">"===s?(s=">=",h?(n=+n+1,o=0,a=0):(o=+o+1,a=0)):"<="===s&&(s="<",h?n=+n+1:o=+o+1),"<"===s&&(l="-0"),t=`${s+n}.${o}.${a}${l}`):h?t=`>=${n}.0.0${l} <${+n+1}.0.0-0`:p&&(t=`>=${n}.${o}.0${l} <${n}.${+o+1}.0-0`),i("xRange return",t),t})},C=(e,r)=>(i("replaceStars",e,r),e.trim().replace(a[p.STAR],"")),b=(e,r)=>(i("replaceGTE0",e,r),e.trim().replace(a[r.includePrerelease?p.GTE0PRE:p.GTE0],"")),G=e=>(r,t,s,n,i,o,a,l,c,h,p,E)=>`${t=N(s)?"":N(n)?`>=${s}.0.0${e?"-0":""}`:N(i)?`>=${s}.${n}.0${e?"-0":""}`:o?">="+t:`>=${t}${e?"-0":""}`} ${l=N(c)?"":N(h)?`<${+c+1}.0.0-0`:N(p)?`<${c}.${+h+1}.0-0`:E?`<=${c}.${h}.${p}-${E}`:e?`<${c}.${h}.${+p+1}-0`:"<="+l}`.trim(),D=(e,r,t)=>{for(let s=0;s<e.length;s++)if(!e[s].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let t=0;t<e.length;t++)if(i(e[t].semver),e[t].semver!==n.ANY&&e[t].semver.prerelease.length>0){const s=e[t].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0};return Te}function Ge(){if(Pe)return Se;Pe=1;const e=Symbol("SemVer ANY");class r{static get ANY(){return e}constructor(s,n){if(n=t(n),s instanceof r){if(s.loose===!!n.loose)return s;s=s.value}s=s.trim().split(/\s+/).join(" "),o("comparator",s,n),this.options=n,this.loose=!!n.loose,this.parse(s),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(r){const t=this.options.loose?s[n.COMPARATORLOOSE]:s[n.COMPARATOR],i=r.match(t);if(!i)throw new TypeError("Invalid comparator: "+r);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new a(i[2],this.options.loose):this.semver=e}toString(){return this.value}test(r){if(o("Comparator.test",r,this.options.loose),this.semver===e||r===e)return!0;if("string"==typeof r)try{r=new a(r,this.options)}catch(t){return!1}return i(r,this.operator,this.semver,this.options)}intersects(e,s){if(!(e instanceof r))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new l(e.value,s).test(this.value):""===e.operator?""===e.value||new l(this.value,s).test(e.semver):(!(s=t(s)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!s.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(i(this.semver,"<",e.semver,s)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(i(this.semver,">",e.semver,s)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}Se=r;const t=u,{safeRe:s,t:n}=h,i=Ie,o=c,a=A,l=be();return Se}const De=be();var Fe=(e,r,t)=>{try{r=new De(r,t)}catch(s){return!1}return r.test(e)};const ye=be();var Me=(e,r)=>new ye(e,r).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "));const Ue=A,je=be();var Xe=(e,r,t)=>{let s=null,n=null,i=null;try{i=new je(r,t)}catch(o){return null}return e.forEach(e=>{i.test(e)&&(s&&-1!==n.compare(e)||(s=e,n=new Ue(s,t)))}),s};const xe=A,_e=be();var ke=(e,r,t)=>{let s=null,n=null,i=null;try{i=new _e(r,t)}catch(o){return null}return e.forEach(e=>{i.test(e)&&(s&&1!==n.compare(e)||(s=e,n=new xe(s,t)))}),s};const Ve=A,Be=be(),He=se;var Ye=(e,r)=>{e=new Be(e,r);let t=new Ve("0.0.0");if(e.test(t))return t;if(t=new Ve("0.0.0-0"),e.test(t))return t;t=null;for(let s=0;s<e.set.length;++s){const r=e.set[s];let n=null;r.forEach(e=>{const r=new Ve(e.semver.version);switch(e.operator){case">":0===r.prerelease.length?r.patch++:r.prerelease.push(0),r.raw=r.format();case"":case">=":n&&!He(r,n)||(n=r);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!n||t&&!He(t,n)||(t=n)}return t&&e.test(t)?t:null};const We=be();var ze=(e,r)=>{try{return new We(e,r).range||"*"}catch(t){return null}};const Ze=A,Qe=Ge(),{ANY:qe}=Qe,Je=be(),Ke=Fe,er=se,rr=ie,tr=ue,sr=pe;var nr=(e,r,t,s)=>{let n,i,o,a,l;switch(e=new Ze(e,s),r=new Je(r,s),t){case">":n=er,i=tr,o=rr,a=">",l=">=";break;case"<":n=rr,i=sr,o=er,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ke(e,r,s))return!1;for(let c=0;c<r.set.length;++c){const t=r.set[c];let h=null,p=null;if(t.forEach(e=>{e.semver===qe&&(e=new Qe(">=0.0.0")),h=h||e,p=p||e,n(e.semver,h.semver,s)?h=e:o(e.semver,p.semver,s)&&(p=e)}),h.operator===a||h.operator===l)return!1;if((!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===l&&o(e,p.semver))return!1}return!0};const ir=nr;var or=(e,r,t)=>ir(e,r,">",t);const ar=nr;var lr=(e,r,t)=>ar(e,r,"<",t);const cr=be();var hr=(e,r,t)=>(e=new cr(e,t),r=new cr(r,t),e.intersects(r,t));const pr=Fe,Er=H;const ur=be(),fr=Ge(),{ANY:mr}=fr,$r=Fe,Rr=H,dr=[new fr(">=0.0.0-0")],vr=[new fr(">=0.0.0")],Ir=(e,r,t)=>{if(e===r)return!0;if(1===e.length&&e[0].semver===mr){if(1===r.length&&r[0].semver===mr)return!0;e=t.includePrerelease?dr:vr}if(1===r.length&&r[0].semver===mr){if(t.includePrerelease)return!0;r=vr}const s=new Set;let n,i,o,a,l,c,h;for(const u of e)">"===u.operator||">="===u.operator?n=Lr(n,u,t):"<"===u.operator||"<="===u.operator?i=Nr(i,u,t):s.add(u.semver);if(s.size>1)return null;if(n&&i){if(o=Rr(n.semver,i.semver,t),o>0)return null;if(0===o&&(">="!==n.operator||"<="!==i.operator))return null}for(const u of s){if(n&&!$r(u,String(n),t))return null;if(i&&!$r(u,String(i),t))return null;for(const e of r)if(!$r(u,String(e),t))return!1;return!0}let p=!(!i||t.includePrerelease||!i.semver.prerelease.length)&&i.semver,E=!(!n||t.includePrerelease||!n.semver.prerelease.length)&&n.semver;p&&1===p.prerelease.length&&"<"===i.operator&&0===p.prerelease[0]&&(p=!1);for(const u of r){if(h=h||">"===u.operator||">="===u.operator,c=c||"<"===u.operator||"<="===u.operator,n)if(E&&u.semver.prerelease&&u.semver.prerelease.length&&u.semver.major===E.major&&u.semver.minor===E.minor&&u.semver.patch===E.patch&&(E=!1),">"===u.operator||">="===u.operator){if(a=Lr(n,u,t),a===u&&a!==n)return!1}else if(">="===n.operator&&!$r(n.semver,String(u),t))return!1;if(i)if(p&&u.semver.prerelease&&u.semver.prerelease.length&&u.semver.major===p.major&&u.semver.minor===p.minor&&u.semver.patch===p.patch&&(p=!1),"<"===u.operator||"<="===u.operator){if(l=Nr(i,u,t),l===u&&l!==i)return!1}else if("<="===i.operator&&!$r(i.semver,String(u),t))return!1;if(!u.operator&&(i||n)&&0!==o)return!1}return!(n&&c&&!i&&0!==o)&&(!(i&&h&&!n&&0!==o)&&(!E&&!p))},Lr=(e,r,t)=>{if(!e)return r;const s=Rr(e.semver,r.semver,t);return s>0?e:s<0||">"===r.operator&&">="===e.operator?r:e},Nr=(e,r,t)=>{if(!e)return r;const s=Rr(e.semver,r.semver,t);return s<0?e:s>0||"<"===r.operator&&"<="===e.operator?r:e};var Or=(e,r,t={})=>{if(e===r)return!0;e=new ur(e,t),r=new ur(r,t);let s=!1;e:for(const n of e.set){for(const e of r.set){const r=Ir(n,e,t);if(s=s||null!==r,r)continue e}if(s)return!1}return!0};const gr=h,Ar=l,Tr=A,wr=$;var Sr={parse:w,valid:P,clean:b,inc:D,diff:y,major:U,minor:X,patch:_,prerelease:V,compare:H,rcompare:W,compareLoose:Z,compareBuild:q,sort:K,rsort:re,gt:se,lt:ie,eq:ae,neq:ce,gte:pe,lte:ue,cmp:Ie,coerce:Ae,Comparator:Ge(),Range:be(),satisfies:Fe,toComparators:Me,maxSatisfying:Xe,minSatisfying:ke,minVersion:Ye,validRange:ze,outside:nr,gtr:or,ltr:lr,intersects:hr,simplifyRange:(e,r,t)=>{const s=[];let n=null,i=null;const o=e.sort((e,r)=>Er(e,r,t));for(const h of o){pr(h,r,t)?(i=h,n||(n=h)):(i&&s.push([n,i]),i=null,n=null)}n&&s.push([n,null]);const a=[];for(const[h,p]of s)h===p?a.push(h):p||h!==o[0]?p?h===o[0]?a.push("<="+p):a.push(`${h} - ${p}`):a.push(">="+h):a.push("*");const l=a.join(" || "),c="string"==typeof r.raw?r.raw:String(r);return l.length<c.length?l:r},subset:Or,SemVer:Tr,re:gr.re,src:gr.src,tokens:gr.t,SEMVER_SPEC_VERSION:Ar.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ar.RELEASE_TYPES,compareIdentifiers:wr.compareIdentifiers,rcompareIdentifiers:wr.rcompareIdentifiers};function Pr(e){for(const t in r){const s=new RegExp(r[t],"i").exec(e);if(null!=s)return s}return null}function Cr(e){const r=e.toLowerCase();let t=!0;return-1!=r.indexOf("?")&&-1==r.indexOf("magnet:?")||(t=!1),t}function br(e){const r=e.replace(/(\\+)/g,"#").split("#"),t=r[r.length-1].split(".");return t[t.length-1]}function Gr(e,r){let t=!1;do{if(!r)break;const s=r.getBoundingClientRect();if(e.clientX<s.left||e.clientY<s.top||e.clientX>s.right||e.clientY>s.bottom)break;t=!0}while(0);return t}function Dr(){const r=new Set,t=document.getElementsByTagName("body");if(0!==t.length){for(const s of t){const t=s.innerHTML.match(e);t&&t.forEach(e=>{r.add(e)})}return r}}function Fr(e,r){if(0==e.length)return!1;if(0==r.length)return!1;const t=[],s=r.split("||");for(const o in s){const e=s[o].slice(2).toLowerCase().trimRight("|");t.push(e)}let n=!1;const i=e.toLowerCase();for(const o in t)if(t[o]>0&&-1!=i.indexOf(t[o])){n=!0;break}return n}function yr(){let e=!1;do{if(!document.activeElement)break;const r=document.activeElement,t=r.tagName.toUpperCase();if("INPUT"===t||"TEXTAREA"===t){e=!0;break}if(!r.contentEditable)break;if("true"===r.contentEditable.toLowerCase()){e=!0;break}}while(0);return e}function Mr(e,r){let t=void 0;do{if(!e)break;if("VIDEO"!==e.tagName.toUpperCase())break;if(e.src){if(0===e.src.toLowerCase().indexOf("blob:")&&!r)break;t=e.src;break}if(!e.children||0===e.children.length)break;for(let r=0;r<e.children.length;r++){const s=e.children[r];if("source"===s.tagName.toLowerCase()&&s.src){0!==s.src.toLowerCase().indexOf("blob:")&&(t=s.src);break}}}while(0);return t}function Ur(){const e=navigator.userAgent.toLowerCase();let r="unknown";return/macintosh/i.test(e)&&!navigator.maxTouchPoints?r="Mac":/iphone/i.test(e)?r="iPhone":/ipad/i.test(e)||/macintosh/i.test(e)&&navigator.maxTouchPoints?r="iPad":/ipod/i.test(e)?r="iPod":/android/i.test(e)?r="Android":/windows/i.test(e)&&(r="Windows"),r}function jr(){var e;switch(null==(e=Ur())?void 0:e.toLowerCase()){case"mac":window.location.href="thunder://QUFEdW1teUxpbmsvQ29weS1Gcm9tLUNsaXBib2FyZFpa";break;case"windows":window.location.href="thunderx://QUEtUnVuVGh1bmRlckFuZFF1aXQgLVN0YXJ0U291cmNlOlRodW5kZXJVbmlvbl9Qcm90b2NhbFpaCg=="}}function Xr(e){if(!e)return"0.0.0";const r=e.split(".");for(;r.length<3;)r.push("0");const t=r.slice(0,3).join(".");return r.length>3?t+"-"+r.slice(3).join("."):t}function xr(e){if(!e)return!1;try{const r=Xr(e),t=Xr("1.0.0.12");return Sr.compare(r,t)>=0}catch(r){return!1}}let _r=void 0;const kr=function(e){const{aid:r,id:n,ext:i,thunderVersion:a,peerId:l,osVersion:c,parentProcess:h,currentTab:p={}}=e;let E="http://stat.download.xunlei.com:8099/?xlbtid=1&aid="+r+"&id="+n+"&peerid="+l+`&userid=&referfrom=100001&OS=${o?"Mac OS":"win"}&OSversion=`+c+"&productname=ThunderX&productversion="+a+"&value3="+_r+"&value4="+h+"&valueT="+(new Date).getTime();i&&i.length>0&&(E+="&"+i),s.info("report stat",`aid: ${r} id: ${n} thunderVersion: ${a} peerId: ${l} osVersion: ${c} parentProcess: ${h} `,"业务参数:",i),t({url:E,type:"GET",success:function(){},error:function(e){s.error("report stat failed !!!",e)}})},Vr=function(e,r,t){n.postMessage("GetThunderInfo",[],void 0,(async function(s,n){if(s){const s=n[0].peerId,i=n[0].osVersion,o=n[0].thunderVersion,a=n[0].parentProcess;kr({aid:e,id:r,ext:t,thunderVersion:o,peerId:s,osVersion:i,parentProcess:a})}else{const s=await i("Q");kr({aid:e,id:r,ext:t,thunderVersion:"",peerId:s,osVersion:"",parentProcess:""})}}))};function Br(e,r,n){_r?Vr(e,r,n):t({url:chrome.runtime.getURL("manifest.json"),type:"GET",success:function(t){_r=t.version,Vr(e,r,n)},error:function(e){s.error("stat failed! error 2:",e)}})}function Hr(e,r,t={}){s.info("report stat v2",`aid: ${e} id: ${r} `,t&&JSON.stringify(t)),Br(e,r,function(e,r="&"){return 0===Object.keys(e).length?"":Object.keys(e).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`).join(r)}(t))}export{br as G,Cr as I,Mr as a,Gr as b,Dr as c,Pr as d,Fr as e,Hr as f,Ur as g,xr as h,yr as i,jr as o,Br as s};
